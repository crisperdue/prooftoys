<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
 "http://www.w3.org/TR/html4/loose.dtd">
<!--
  Uses "almost standards mode", standard except for some table cell sizing.
  -->
<html>
<head>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <title>ProofToys - numbers</title>
  <link id=styles type="text/css" rel="stylesheet" href="logic.css">
  <script src="boilerplate.js"></script>

<style type="text/css">
/* CSS here */
</style>

</head>
<body class=yui3-skin-sam>

<h1>Prooftoys</h1>

<div id=slogans>
<!-- slogans here -->
</div>

<table>
<tr>
<td id=leftNav>
<!-- Boilerplate HTML goes here -->
<td>
<h2>Working with real numbers</h2>
<p>
Prooftoys currently has primitive support for working with real
numbers using addition, subtraction, multiplication, and division,
with axioms and basic rules of inference.
<p>
<b>Axioms.</b>
The axioms refer only to addition, multiplication, negation
(<code>neg</code>), and reciprocal (<code>recip</code>).  Subtraction
and division are defined in terms of negation and reciprocal.
<p>
In addition there are axioms stating that the result of the basic
operations on real numbers give real numbers as a result (except for
the reciprocal of zero), though they are not shown here.
<p>
<b>Predicate <code>R.</code></b>
The predicate <code>R</code> means that its argument is a real number.
<p>
<b>Operator <code>&#x22A2;.</code></b>
The turnstile symbol <code>&#x22A2;</code>
means that the items to its left are hypotheses and the expression on
the right is proved with the hypotheses assumed.  In the Prooftoys
logic, the turnstile has exactly the same meaning as the implication
symbol <code>--></code>, though some rules of inference operate
somewhat differently when there are hypotheses, focusing on the part
of the formula after the turnstile symbol.
<p>
<div id=axiomList></div>
<p>
<b>Doing arithmetic.</b>
The <code>axiomArithmetic</code> axiom schema evaluates basic
arithmetic expressions with numeric arguments.  It works with the
operations <code>+, -, *, /, neg, =, !=, >, >=, <, <=</code>, and the
predicate <code>R</code> when given numeric literals as arguments.
(When dividing, it accepts only inputs that give exact integer
results.)
<p>
<b>Numeric constants.</b>
Prooftoys supports (integer) real number constants in the usual
syntax, e.g. <code>(x - 2)</code>.  Be sure when subtracting a numeric
constant as in the example to leave a space between the
<code>-</code> and the number, otherwise the parser will the
<code>-</code> as part of the number <code>-2</code> and
<code>x</code> as a function applied to <code>-2</code>.
<p>
<b>With the proof builder.</b>
In the interactive proof builder, find axioms by pressing the
<code>x</code> key on your keyboard without selecting any existing
proof step.  They are under the letter <code>x</code> to reduce
clutter in the initial display of available theorems and rules of
inference.
<p>  
<b>Rules of inference.</b> Based on the axioms are a set of simple
rules of inference for real numbers.  You can select an expression in
a proof step and apply one of these to it, associating <code>+</code>
or <code>*</code> to the left or to the right, commuting the
arguments, applying the distributive law or using it in reverse to
group common factors (<code>associatePlusToLeft</code>,
<code>associatePlusToRight</code>, <code>associateTimesToLeft</code>,
<code>associateTimesToRight</code>, <code>distribute</code>, and
<code>group</code>).
<p>
There are also rules related to 1, 0, negation and reciprocal:
<code>plusZeroElim</code>, <code>plusZeroIntro</code>,
<code>timesOneElim</code>, <code>timesOneIntro</code>,
<code>plusNegElim</code>, <code>timesRecipElim</code>, and
<code>timesZeroElim</code>.
<p>
<b>Subtraction and division.</b>
The operator <code>-</code> and <code>/</code> are defined, but there
are no rules of inference for them, so it is more convenient to expand
their definitions where they occur.  You can expand the definitions by
selecting an expression that uses them, such as <code>(y - 2)</code> or
<code>(x / z)</code> and request the <code>apply</code> rule.

<h3>Worked example</h3>
<p>
This example solves a pair of simple simultaneous equations using the
current Prooftoys axioms and rules of inference.
<div id=sampleProof></div>

</table>
<script>
// Insert boilerplate.
Toy.insertNav();
Toy.insertSlogans();

// Remove "filter" to load minified JavaScript.
YUI({filter: 'raw', insertBefore: 'styles'})
   .use('node', 'event', 'json', 'expr', 'theorems', 'test', 'console',
        'proof', 'collection', 'querystring-parse', 'json', 'overlay',
        // querystring-parse requires "collection" (?!)
   function(Y) {

  // Set up some useful constants and functions.

  Y.Expr.utils.import();

  // Query string data.
  var queryData;

  function newProofBuilder() {
    // Create an interactive proof editor for the user.
    var controller = new Y.ProofControl();
    return controller;
  };

  Y.on('domready', function() {
      var rules = Y.rules;
      var axiomList = new Y.ProofControl();
      Y.one('#axiomList').append(axiomList.node);
      window.axiomList = axiomList;
      // Numeric axioms:
      var a1 = rules.axiomCommutativePlus();
      var a2 = rules.axiomAssociativePlus();
      var a3 = rules.axiomCommutativeTimes();
      var a4 = rules.axiomAssociativeTimes();
      var a5 = rules.axiomDistributivity();
      var a6 = rules.axiomPlusZero();
      var a7 = rules.axiomTimesOne();
      var a8 = rules.axiomTimesZero();
      var a9 = rules.axiomNeg();
      var a10 = rules.axiomReciprocal();
      axiomList.setSteps([a1, a2, a3, a4, a5, a6, a7, a8, a9, a10]);

      var sample = new Y.ProofControl();
      window.sampleProof = sample;
      Y.one('#sampleProof').append(sample.node);
      var a1 = rules.assume('x = y * 2');
      var a2 = rules.assume('x + y = 6');
      var a3 = rules.replace(a1, a2, '/main/left/left');
      var a4 = rules.timesOneIntro(a3, '/main/left/right');
      var a5 = rules.group(a4, '/main/left');
      var a6 = rules.arithmetic(a5, '/right/left/right');
      var a7 = rules.applyToBoth(Y.parse('{x. x / 3}'), a6);
      var a8 = rules.arithmetic(a7, '/right/right');
      var a9 = rules.apply(a8, '/right/left');
      var a10 = rules.associateTimesToRight(a9, '/right/left');
      var a11 = rules.timesRecipElim(a10, '/right/left/right');
      var a12 = rules.timesOneElim(a11, '/right/left');
      var a13 = rules.replace(a12, a1, '/right/right/left');
      var a14 = rules.arithmetic(a13, '/right/right');
      sample.setSteps([a1, a2, a3, a4, a5, a6, a7, a8, a9, a10, a11, a12,
                       a13, a14]);
    });

  // For debugging.
  window.Y = Y;
  window.db = Y.debugString;
});
</script>
</body>
</html>
