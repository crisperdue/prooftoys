<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
 "http://www.w3.org/TR/html4/loose.dtd">
<!-- Uses "almost standards mode", all but some table cell sizing. -->
<html>
<head>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <title>Prooftoys - simplify equations</title>
  <base href="..">
  <link id=styles type="text/css" rel="stylesheet" href="logic.css">
  <script src="boilerplate.js"></script>

<style type="text/css">
/* Page-specific CSS here */
</style>

</head>
<body>

<h1>Prooftoys</h1>

<div id=slogans>
<!-- slogans here -->
</div>

<span id=leftNav>
<!-- Boilerplate text goes here -->
</span>

<span id=content>
<h2>Algebraic simplification problems</h2>
<p>
<b>Suggestions</b>.  A good plan for simplifying these expressions
is to first use the distributive law.  Then convert subtraction to
addition and simplify negations.  Regrouping of terms only works with
addition, not subtraction, and it works best with terms that are like
<s>a * x</s> where <s>a</s> is a number, or just <s>x</s>.  So before
regrouping it is best to use the <i>arithmetic and simplify</i> rule.
That rule is safe to use at any time.
<p>
<ol id=problemList>
</ol>

<h3>Problem work area</h3>
<p>
<div id=proof></div>

</span> <!-- content -->

<!-- Storage for state to preserve across page unloads -->
<textarea id=ToyStore rows=20 cols=80 class=hidden></textarea>
<!-- Force some white space to accommodate the autocompleter menu. -->
<div style="height: 20em"></div>

<script>

// Insert boilerplate.  Toy.insertNav(); Toy.insertSlogans();
Toy.mathifyAll();

// On DOM ready:
$(function() {
    var problems = [
      '3 * h - 14 + 7 * h - 2 * h  - 5 * h + 3',
      '15 * k - 4 - 5 * k + 16',
      '-7 * (2 * y - 6) + 20 * y',
      '4 * (3 * x - 2) - 3 * (x + 7)'
    ];
    var $problemList = $('#problemList');
    var editor = new Toy.ProofEditor();
    window.proofEditor = editor;
    editor.setEditable(true);
    $('#proof').append(editor.containerNode);
    // Set up handlers for the problems.
    for (var i = 0; i < problems.length; i++) {
      var problem = problems[i];
      var markup = $('<span class=mathColor>')
        .append(Toy.mathMarkup(problem), ' ');
      var button = $('<button>Try</button>');
      function handler(event) {
        var term = event.data.term;
        editor.proofControl.setSteps([]);
        editor.addStep(Toy.rules.consider(term));
      };
      button.on('click', {term: problem}, handler);
      $problemList.append($('<li>').append(markup, button));
    }
  });

</script>
</body>
</html>
