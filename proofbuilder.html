<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
 "http://www.w3.org/TR/html4/loose.dtd">
<!-- Uses "almost standards mode", all but some table cell sizing. -->
<html>
<head>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">

  <title>ProofToys Proof Builder</title>

   <!-- TODO: deploy with yui-min.js rather than yui.js -->
  <script src="http://yui.yahooapis.com/3.4.0/build/yui/yui.js"></script>
  <!-- For debugging add explicit reference to source file(s) here -->

  <link id=styles type="text/css" rel="stylesheet" href="logic.css">
  <script src="expr.js"></script>
  <script src="step-editor.js"></script>
  <script src="proof.js"></script>
  <script src="theorems.js"></script>

<style type="text/css">

h1 { color: black }

h2 {
  color: black;
  text-align: left;
}

h2, h3 {
  margin-bottom: .5em;
}

body {
  /* Allow space for the bottom panel. */
  margin-bottom: 4em;
}

a.nav {
  display: block;
  font-style: italic;
  margin: .3em 1.5em .3em 1em;
  text-decoration: none;
  text-indent: -1em;
}

a.nav:before {
  content: "‚ä¶ ";
}

</style>

<script type="text/javascript">
  // Google analytics
  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-28801147-2']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();

</script>

</head>
<body class=yui3-skin-sam
 style="margin: 1em 4em 1em 1em; text-align: left; font-family: sans-serif">

<h1 style="margin-bottom: .2em">Prooftoys</h2>

<div style="margin-bottom: 1em">
<center><i>Web-based tools for mathematical problem-solving.</i></center>
<center><i>Making math quicker, easier, and correct.</i></center>
</div>

<table>
<tr>
<td style="vertical-align: top; padding-top: 7em" width=20%>

<a class=nav href="./">
 Prooftoys home</a>
<a class=nav href="proofbuilder.html">
 Interactive proof builder</a>
<a class=nav href="http://code.google.com/p/jlogic/wiki/LanguageSummary">
 Summary of the Language</a>
<a class=nav href="http://code.google.com/p/jlogic/wiki/AboutTheLogic">
 About the logic</a>
<a class=nav href="http://code.google.com/p/jlogic">
 Project site</a>
<a class=nav href="http://code.google.com/p/jlogic/source/checkout">
 Source code</a>
<a class=nav
 href="http://code.google.com/p/jlogic/issues/entry?template=Comment/suggestion">
 Comments etc.</a>

<td>
<h2>Proof Builder</h2>

<h3>About the Interactive Proof Builder</h3>
<p>
The proof builder lets you interactively build proofs using all of the
publicly-available theorems and rules of inference.  While it lacks
some important abilities such as deleting steps, working with theories
(e.g. the real numbers), and convenient saving/restoring of proofs,
already in its current form it can make working with proofs easier,
building proofs quickly, showing what inference rules do and how they
work.
<p>
Note: <i>Proof displays and the Proof Builder are supported in recent
versions of Firefox and Chrome.</i>

<h3>Using the Proof Builder</h3>
<p>
To start, click on the text entry field.  It will pop up a menu of all
axioms, theorems, and theorem schemas available.  You can start typing
the name you want or select it from the list.  Clicking on the desired
item or typing &lt;Enter&gt; when it is selected will choose it.
<p>
Once you have chosen the axiom or theorem to use, the system checks
whether it takes parameters.  If so, you will be offered a small form
to fill in.  Enter expressions in the language as needed and type
&lt;Enter&gt; to submit the form.  The system will prove the theorem
as needed and display it in the proof.  A common first step in solving
a math problem is to use the <code>assume</code> theorem schema.  Type
any expression, and it will be "assumed" for you.  The "assume"
theorem just says that your assumption implies itself, but the rules
of inference work well with this starting point.
<p>
Once there is at least one step in your proof you can choose rules of
inference that take existing proof steps as input.  To use a rule of
inference, <i>select a step</i> that it depends on.  If a rule of
inference operates on a specific location in a step, you
must <i>select the subexpression</i> to operate on.  For example
rules <code>r</code> and <code>replace</code> require you to select
the subexpression you want to replace.  Click again on a step to
deselect it, to enter an axiom or theorem.

<h3>Building a proof using modus ponens</h3>
<p>
Let's consider a very simple example applying modus ponens to a pair of
assumptions.  Here is a display of the proof you are going to build.
<p>
<div id=modusPonens></div>
<p>
In the Proof Builder area below, you can create the same proof.
To enter an assumption click in the text entry field and
select the "assume" rule.  Type in "p", and press &lt;Enter&gt;.  You
will see the first line of your proof.
<p>
Next use the "assume" rule again, typing in "p --> q" as your second
assumption.
<p>
For the inference step, click on the first line of the proof display
anywhere outside the formula itself.  The line will highlight itself
and stay highlighted as you move the mouse away.  Now click on the
text entry field.  Since you have selected a proof step it will offer
a number of rules of inference rather than axioms and theorem schemas.
When you select "modusPonens" from the list, a small form will appear
with "1" as the "hypothesis step".  Enter "2" as the number of the
implication step to apply the rule to, and press &lt;Enter&gt;.  You
should see the modus ponens line added to the proof.
<p>
Finally to make the hypotheses explicit, you might wish to select the
last line of the proof and choose the "asImplication" rule, which
causes the hypotheses to be displayed explicitly as preconditions.
<p>
Going beyond what is displayed in the sample, you could choose the
rule "addForall" to add universal quantifiers to the formula.  You can
do this twice to quantify over both <code>p</code> and <code>q</code>.
<p>
<i>Enter your new proof here:</i>

<div id=proofEditor></div>

<p style="margin-bottom: 30em">
If you wish to start over and work on a new proof, press
<input type=button value="Clear"
 onclick="Y.newProofBuilder()">

</table>

<script>
// Remove "filter" to load minified JavaScript.
YUI({filter: 'raw', insertBefore: 'styles'})
   .use('node', 'event', 'json', 'expr', 'theorems', 'test', 'console',
        'proof', 'collection', 'querystring-parse', 'json',
        // querystring-parse requires "collection" (?!)
   function(Y) {

  // Set up some useful constants and functions.

  Y.Expr.utils.import();

  // Query string data.
  var queryData;

  Y.newProofBuilder = function() {
    Y.one('#proofEditor').setContent('');
    // Create an interactive proof editor for the user.
    var controller = new Y.ProofControl();
    controller.setEditable(true);
    Y.one('#proofEditor').append(controller.node);
    // For debugging:
    window.proofBuilder = controller;
  };

  Y.on('domready', function() {
      var rules = Y.rules;
      // Modus ponens
      var mp1 = rules.assume('p');
      var mp2 = rules.assume('p --> q');
      var mp3 = rules.modusPonens(mp1, mp2);
      var mp4 = rules.asImplication(mp3);
      Y.renderProof(mp4, Y.one('#modusPonens'));
      // And a fresh proof builder.
      Y.newProofBuilder();
    });

  // For debugging.
  window.Y = Y;
  window.db = Y.debugString;
});


</script>
</body>
</html>
