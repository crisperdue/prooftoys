<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
 "http://www.w3.org/TR/html4/loose.dtd">
<!--
  Uses "almost standards mode", standard except for some table cell sizing.
  -->
<html>
<head>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <title>Prooftoys - tutorial</title>
  <link id=styles type="text/css" rel="stylesheet" href="logic.css">
  <script src="boilerplate.js"></script>

<style type="text/css">
/* CSS here */
</style>

</head>

<body class=yui3-skin-sam>

<h1>Tutorial</h1>

<div id=slogans>
<!-- slogans here -->
</div>

<table>
<tr>
<td id=leftNav>
<!-- Boilerplate HTML goes here -->
<td>

<h2>Introduction</h2>
<p>
This tutorial introduces you to the language used in the Prooftoys
system, viewing and exploring proofs, and using the interactive proof
builder.

<h2>The language</h2>
<p>
For more complete information see the
<a href="http://code.google.com/p/prooftoys/wiki/LanguageSummary">
language documentation</a> in the project Wiki.
<p>
<b>About the notation.</b> 
Aside from variables and constants, the language has only function
calls and function expressions, like lambda expressions in the lambda
calculus.  The parser and printer support infix operators, which are
"<a href="http://www.haskell.org/haskellwiki/Currying">curried</a>"
in the internal representation into functions of a single argument.
<p>
<b>infix operators.</b>
Infix operators available in order of increasing precedence are:
<ul>
<li><code>==</code> (equivalence, displays as "<s>==</s>")
<li><code>==></code> (implication, displays as "<s>==></s>")
<li><code>|</code> (or)
<li><code>&</code> (and)
<li><code>= != &lt; &lt;= &gt; &gt;=</code>
(equality and relational operators)<br>
These display as <s>= != &lt; &le; &gt; &ge;</s> respectively.
<li><code>+ -</code>
<li><code>* /</code>
</ul>
<p>
<b>function calls.</b>
Ordinary function calls look like <s><b>(f x)</b></s> or
<s><b>f x</b></s>, and have higher precedence than any infix
operator.
<p>
<b>forall and exists.</b>
These are entered as <code>forall</code> and <code>exists</code>, and
display as the usual mathematical symbols
<span class=math>&forall;</span> and <span class=math>&exist;</span>.
In Prooftoys the typical math notation
<span class=math>&forall;<i>x</i> <i>P</i>(<i>x</i>)</span>
is entered as <code>forall {x. P x}</code> or
<code>forall {x. (P x)}</code> and displays as
<s>forall {x. P x}</s> or <s>forall {x. (P x)}</s>.

<p>
<b>not.</b>
Boolean negation is represented by <s>not</s>, and is called
like any other ordinary function.
<p>
<b>anonymous functions.</b>
These have the form <s>{x. p x}</s>, a
notation somewhat resembling the Ruby programming language notation
for
<a href="http://en.wikipedia.org/wiki/Ruby_(programming_language)#Blocks_and_iterators"
 target="_blank">blocks</a>/anonymous functions or Smalltalk blocks.
This notation also resembles common notation for sets,
and can be read that way for functions with boolean values &mdash;
"<i>the set of x such that p of x</i>".

<h2>Inference in Prooftoys</h2>
<p>
Prooftoys supports the usual forms of classical inference and has a
number of common rules predefined (though not yet inference with
existential quantifiers).
<p>
Its one fundamental rule of inference is the Q<sub>0</sub> Rule R that
allows replacement of any occurrence of a term by a term that is equal
to it.  The Prooftoys <s>replace</s> rule is the same
as the Q<sub>0</sub> derived Rule R', which does the same sort of
replacement when the equation is conditional.  In other words it
allows <s>C</s> to be replaced by <s>D</s> if
<s>H ==> (C = D)</s>
or in the notation for assumptions,
<s>H<sub>1</sub>, ..., H<sub>n</sub>: C = D</s>.
It turns out that equations in basic textbook algebra problems
have this form when written out in full, which makes this rule
especially useful.  See the section
<a href="real-numbers.html">Working with Real Numbers</a>.

<h2>Viewing and exploring proofs</h2>
<p>
Examples of many of the currently-implemented rules of inference are
available here.  Selecting a theorem or inference rule below displays
an example of usage of the rule or theorem.  Axioms, theorems, and
rules of inference often have parameters.
<p>
Some often-used practical rules of inference are universal
generalization (addForall), universal instantiation (instForall), and
reasoning by cases (cases).  There is a tautology checker which can
prove arbitrary tautologies, and a version of Professor Andrews' very
own Rule P.
<p>
To see how a rule operates internally, click on its name in the proof
line that uses it.
<p>
Note: <i>Proof displays are supported in recent versions of Firefox and Chrome.</i>

<p style="margin: 1.5em 1.5em .5em">
<b>Select a rule or theorem to prove:</b><span id=selectHolder></span>

<div id=proofDisplay style="margin-bottom: 1em"></div>
<a href="javascript:void Y.one('#proof-display-video').toggleClass('hidden')">
 Demo screencast
</a>

<object id="proof-display-video"  width="919" height="464"
 class=hidden style="border: 2px solid silver"
 type="application/x-shockwave-flash"
 data="http://content.screencast.com/users/CrisPerdue/folders/Jing/media/6c5bfb10-921d-49fa-be64-9986cea01d08/jingswfplayer.swf" >
 <param name="movie" value="http://content.screencast.com/users/CrisPerdue/folders/Jing/media/6c5bfb10-921d-49fa-be64-9986cea01d08/jingswfplayer.swf" />
 <param name="quality" value="high" />
 <param name="bgcolor" value="#FFFFFF" />
 <param name="flashVars"
  value="thumb=http://content.screencast.com/users/CrisPerdue/folders/Jing/media/6c5bfb10-921d-49fa-be64-9986cea01d08/FirstFrame.jpg&containerwidth=919&containerheight=464&content=http://content.screencast.com/users/CrisPerdue/folders/Jing/media/6c5bfb10-921d-49fa-be64-9986cea01d08/00000011.swf&blurover=false" />
 <param name="allowFullScreen" value="true" />
 <param name="scale" value="showall" />
 <param name="allowScriptAccess" value="always" />
 <param name="base"
  value="http://content.screencast.com/users/CrisPerdue/folders/Jing/media/6c5bfb10-921d-49fa-be64-9986cea01d08/"
 />
 Unable to display content. Adobe Flash is required.
</object>

<p>
<b>Assumptions.</b>
Most math problems start with assumptions, and whethere the
assumptions are stated explicitly or not, the assumptions are often
required to properly justify many of the steps in a problem
solution.
<p>
The Prooftoys language has a shorthand notation that allows solution
steps to refer to assumptions in a way that is neat and compact.
For example if an assumption is made in line 1 of a proof, later
steps can refer to that assumption using the number 1, something
like this:
<blockquote>
1. <s>x / 4 = y</s> (assumption)<br>
2. <s>1: x = 4 * y</s><br>
3. <s>y = 5</s> (assumption)<br>
4. <s>1, 3: x = 20</s>
</blockquote>
Here Line 2 refers to the assumption on line 1, and
line 4 refers to the assumptions on lines 1 and 3.
Line 2 is a shorthand for:
<blockquote>
2. <s>x / 4 = y ==> x = 4 * y</s>
</blockquote>
and line 4 similarly is just a shorthand for:
<blockquote>
4. <s>x / 4 = y & y = 5 ==> x = 20</s>
</blockquote>

<h2>Using the proof builder</h2>
<p>
The proof builder lets you interactively build proofs using all of the
publicly-available theorems and rules of inference.  It can make
working with proofs easier, apply rules of inference correctly,
show what inference rules do and how they work.
<p>
To start, click on the text entry field.  It will pop up a menu of all
axioms, theorems, and theorem schemas available.  You can start typing
the name you want or select it from the list.  Clicking on the desired
item or typing &lt;Enter&gt; when it is selected will choose it.
<p>
Once you have chosen the axiom or theorem to use, the system checks
whether it takes parameters.  If so, you will be offered a small form
to fill in.  Enter expressions in the language as needed and type
&lt;Enter&gt; to submit the form.  The system will prove the theorem
as needed and display it in the proof.  A common first step in solving
a math problem is to use the <s>assume</s> theorem schema.  Type
any expression, and it will be "assumed" for you.  The "assume"
theorem just says that your assumption implies itself, but the rules
of inference work well with this starting point.
<p>
Once there is at least one step in your proof you can choose rules of
inference that take existing proof steps as input.  To use a rule of
inference, <i>select a step</i> that it depends on.  If a rule of
inference operates on a specific location in a step, you
must <i>select the subexpression</i> to operate on.  For example
rules <s>r</s> and <s>replace</s> require you to select
the subexpression you want to replace.  Click again on a step to
deselect it, to enter an axiom or theorem.

<h3>Building a proof using modus ponens</h3>
<p>
Let us consider a very simple example applying modus ponens to a pair of
assumptions.  Here is a display of the proof you are going to build.
<p>
<div id=modusPonens></div>
<p>
In the Proof Builder area below, you can create the same proof.
To enter an assumption click in the text entry field and
select the <code>assume</code> rule.  Type in <code>p</code>, and press
<code>&lt;Enter&gt;</code>.  You will see the first line of your proof.
<p>
Next use the <code>assume</code> rule again, typing in
<code>p ==> q</code> as your second assumption.
<p>
For the inference step, click on the first line of the proof display
anywhere outside the formula itself.  The line will highlight itself
and stay highlighted as you move the mouse away.  Now click on the
text entry field.  Since you have selected a proof step it will offer
a number of rules of inference rather than axioms and theorem schemas.
When you select <code>modusPonens</code> from the list, a small form
will appear with "1" as the hypothesis step.  Enter <code>2</code> as
the number of the implication step to apply the rule to, and press
<code>&lt;Enter&gt;</code>.  You
should see the modus ponens line added to the proof.
<p>
Finally to make the hypotheses explicit, you might wish to select the
last line of the proof and choose the <code>asImplication</code> rule,
which causes the hypotheses to be displayed explicitly as
preconditions.
<p>
Going beyond what is displayed in the sample, you could choose the
rule <code>addForall</code> to add universal quantifiers to the
formula.  You can do this twice to quantify over both <s>p</s> and
<s>q</s>.
<p>
<a href="javascript:void Y.one('#proofbuilder-video').toggleClass('hidden')">
 Proof Builder demo screencast
</a>
<p>
<!-- copy and paste. Modify height and width if desired. -->
<object id="proofbuilder-video"  width="932" height="228"
 class=hidden style="border: 2px solid silver"
 type="application/x-shockwave-flash"
 data="http://content.screencast.com/users/CrisPerdue/folders/Jing/media/3889e893-5603-4161-a04e-d669db2b86b3/jingswfplayer.swf"
 >
 <param name="movie"
 value="http://content.screencast.com/users/CrisPerdue/folders/Jing/media/3889e893-5603-4161-a04e-d669db2b86b3/jingswfplayer.swf"
 />
 <param name="quality" value="high" />
 <param name="bgcolor" value="#FFFFFF" />
 <param name="flashVars"
 value="thumb=http://content.screencast.com/users/CrisPerdue/folders/Jing/media/3889e893-5603-4161-a04e-d669db2b86b3/FirstFrame.jpg&containerwidth=932&containerheight=228&content=http://content.screencast.com/users/CrisPerdue/folders/Jing/media/3889e893-5603-4161-a04e-d669db2b86b3/00000006.swf&blurover=false"
 />
 <param name="allowFullScreen" value="true" />
 <param name="scale" value="showall" />
 <param name="allowScriptAccess" value="always" />
 <param name="base"
 value="http://content.screencast.com/users/CrisPerdue/folders/Jing/media/3889e893-5603-4161-a04e-d669db2b86b3/"
 />
 Unable to display content. Adobe Flash is required.
</object>
<p style="margin: 0em">
<b>Proof Builder</b>
<p>
<div id=proofEditor></div>
<p style="margin-bottom: 20em">
&nbsp;

</table>

<!-- Storage for state to preserve across page unloads -->
<textarea id=ToyStore rows=20 cols=80 class=hidden></textarea>

<!-- END OF HTML -->

<script src=sample-proofs.js></script>
<script>
// For emacs: '

// Insert boilerplate.
Toy.insertNav();
Toy.insertSlogans();
Toy.mathifyAll();

/* Remove "filter" to load minified JavaScript. */
YUI({filter: 'raw', insertBefore: 'styles'})
  .use('node', 'event', 'json', 'expr', 'theorems', 'test', 'console',
       'proof', 'collection', 'querystring-parse', 'json', 'overlay',
        // querystring-parse requires "collection" (?!)
        'sample-proofs',
   function(Y) {

  // For debugging (and inline event handlers).
  window.Y = Y;

  // Set up some useful constants and functions.
  Y.Expr.utils.import();
  var rules = Y.rules;

  // Modus ponens
  var mp1 = rules.assume('p');
  var mp2 = rules.assume('p ==> q');
  var mp3 = rules.modusPonens(mp1, mp2);
  var mp4 = rules.asImplication(mp3);
  Y.renderProof(mp4, Y.one('#modusPonens'));

  Y.setUpSampleProofs('#selectHolder', '#proofDisplay', false);

  // Full proof editor
  var editor = new Y.ProofEditor();
  Y.editor = editor;  // debugging
  window.proofEditor = editor;
  editor.setEditable(true);
  Y.one('#proofEditor').setContent(editor.containerNode);

});

</script>
</body>
</html>
